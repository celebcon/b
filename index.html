<html>
<style>
.defaultText{
    margin-top: 50px;
    padding: 0;
    height: 100px;
    position: relative;
    left: 0;
    outline: none;
    border: 1px solid #cdcdcd;
    border-color: rgba(0,0,0,.15);
    background-color: white;
    font-size: 16px;
	      white-space: pre-wrap;
}

</style>
<body style="background-color:lightblue;">

<canvas id="myCanvas" onload = 'move()' onclick = "clickfunc()" width="800" height="400" style=" padding-left: 0;
    padding-right: 0;
	
    margin-left: auto;
    margin-right: auto;
	margin-top: 0px;
    display: block;border:3px solid white;">
</canvas>

</body>


<script>
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
ctx.font = "16px Arial";

var canvasX = 0; 
var canvasY = 0; 
canvas.addEventListener("mousemove", function(e) { 
    var cRect = canvas.getBoundingClientRect();              // Gets the CSS positions along with width/height
    canvasX = Math.round(e.clientX - cRect.left);        // Subtract the 'left' of the canvas from the X/Y
    canvasY = Math.round(e.clientY - cRect.top);         // positions to get make (0,0) the top left of the    
});


function sound(src) {
 this.sound = document.createElement("audio");
this.sound.src = src;
this.sound.setAttribute("preload", "auto");
this.sound.setAttribute("controls", "none");
this.sound.style.display = "none";
document.body.appendChild(this.sound);
this.play = function(){
this.sound.play();
}
this.stop = function(){
this.sound.pause();
}   
}

backtrack = new sound("sounds/backtrack.mp3");



var button = function(x,y,endx,endy,cost,scenes,name,f) {
    this.x = x;
    this.y = y;
    this.endx = endx;
	this.endy = endy;
    this.w = this.endx - this.x;
    this.h = this.endy - this.y;
	this.cost = cost;
	this.bought = false; 
	this.name = name; 
	this.verifying = false; 
	this.verified = false; 
	this.scene = scenes;
	this.f = f; 
	this.rand = 0;
	this.breeded = false; 
};

button.prototype.draw = function() {
	ctx.strokeStyle = "red"; 
	ctx.lineWidth = 5;
    //ctx.strokeRect(this.x, this.y - scrollY, this.w, this.h);
	
	if (this.verifying == true){
		this.verified = true;
		if (points - this.cost < 0){this.verified = false;}
		if (this.scene != scene){this.verified = false;}
		if (this.bought == true){this.verified = false;}
	}
	
	if (this.verified == true){
	this.verifying = false; 
	points = points - this.cost; 
	this.bought = true;
	choicesArray.push(this.name); 
	this.verified = false; 
	this.rand = Math.random();
	if (this.rand < this.f){this.breeded = true;}
	if (this.rand > this.f){this.breeded = false;}
	}
	
  if (this.bought == true){
  
      if (this.breeded == true){
	  ctx.drawImage(win, this.x + 3, this.y - 287 - scrollY,223,285);
	  }
	  
	  if (this.breeded == false){
	  ctx.drawImage(lose, this.x + 3, this.y - 287 - scrollY,223,285);
	  }
  
  }
	
};


var buttonArray = []; 

var choicesArray = []; 

buttonArray.push(new button(70, 290,310,320,5,1, "Chloe Grace Moretz",0.90));

buttonArray.push(new button(313, 290,550,320,4,1, "Christina Hendricks",0.60));

buttonArray.push(new button(560, 290,800,320,3,1, "Emily Osment",0.85));

//.......................

buttonArray.push(new button(70, 690,310,720,5,1, "Zendaya",0.90));

buttonArray.push(new button(313, 690,550,720,4,1, "Florence Pugh",0.75));

buttonArray.push(new button(560, 690,800,720,3,1, "Alison Brie",0.65));

//.......................

buttonArray.push(new button(70, 1090,310,1120,5,1, "Elizabeth Olsen",0.55));

buttonArray.push(new button(313, 1090,550,1120,2,1, "Elisha Cuthbert",0.65));

buttonArray.push(new button(560, 1090,800,1120,2,1, "Sarah Silverman",0.40));


//.......................

buttonArray.push(new button(70, 1490,310,1520,6,1, "Ana De Armas",0.80));

buttonArray.push(new button(313, 1490,550,1520,4,1, "Melissa Benoist",0.70));

buttonArray.push(new button(560, 1490,800,1520,2,1, "Rashida Jones",0.55));


//.......................

buttonArray.push(new button(70, 1890,310,1920,4,1, "Miranda Kerr",0.65));

buttonArray.push(new button(313, 1890,550,1920,3,1, "Lucy Hale",0.75));

buttonArray.push(new button(560, 1890,800,1920,4,1, "Zazie Beetz",0.85));

//.......................

buttonArray.push(new button(70, 2290,310,2320,2,1, "Imogen Poots",0.90));

buttonArray.push(new button(313, 2290,550,2320,5,1, "Natalie Dormer",0.50));

buttonArray.push(new button(560, 2290,800,2320,3,1, "Hayley Atwell",0.60));

//.......................

buttonArray.push(new button(70, 2690,310,2720,2,1, "Thandie Newton",0.65));

buttonArray.push(new button(313, 2690,550,2720,3,1, "Emmanuel Chirqui",0.50));

buttonArray.push(new button(560, 2690,800,2720,4,1, "Minka Kelly",0.70));

//.......................

buttonArray.push(new button(70, 3090,310,3120,3,1, "Christina Ricci",0.60));

buttonArray.push(new button(313, 3090,550,3120,4,1, "Emily Ratajkowski",0.85));

buttonArray.push(new button(560, 3090,800,3120,4,1, "Paige Spiranac",0.90));

//.......................

buttonArray.push(new button(70, 3490,310,3520,2,1, "Elizabeth Debicki",0.90));

buttonArray.push(new button(313, 3490,550,3520,3,1, "Michelle Trachtenberg",0.75));

buttonArray.push(new button(560, 3490,800,3520,5,1, "Anna Kendrick",0.65));


//.......................

buttonArray.push(new button(70, 3890,310,3920,4,1, "Olivia Munn",0.70));

buttonArray.push(new button(313, 3890,550,3920,3,1, "Amy Adams",0.55));

buttonArray.push(new button(560, 3890,800,3920,4,1, "Olivia Wilde",0.75));


function clickfunc(){

	for(var i = 0; i < buttonArray.length ; i++) {
			if (canvasX > buttonArray[i].x && canvasX < buttonArray[i].x + buttonArray[i].w){
				if (canvasY > buttonArray[i].y - scrollY && canvasY < buttonArray[i].y + buttonArray[i].h - scrollY){
						buttonArray[i].verifying = true; 
				}
			
			}
	}

    if (canvasX < 50){
	   if (canvasY > 40 && canvasY < 360){placeY = canvasY;}
	   if (canvasY < 40){placeY = 0;}
	   if (canvasY > 360){placeY = 360;}
	}
	

}//END OF CLICKFUNC
var myVar = setInterval(move, 20);

var scene = 1; 

var points = 50; 

var scrollY = 0; 

var curplaceY = 0;
var placeY = 0; 

var debugInfo = 0; 

var maxScrollY = 3200; 

var realScrollY = 0;
function move() {

//backtrack.play();

//BG
ctx.fillStyle = "black";
ctx.fillRect(0,0, 800, 400);

ctx.drawImage(fert, 0, 0 - scrollY,800,400);
ctx.drawImage(fert2, 0, 400 - scrollY,800,400);
ctx.drawImage(fert3, 0, 800 - scrollY,800,400);
ctx.drawImage(fert4, 0, 1200 - scrollY,800,400);
ctx.drawImage(fert5, 0, 1600 - scrollY,800,400);
ctx.drawImage(fert6, 0, 2000 - scrollY,800,400);
ctx.drawImage(fert7, 0, 2400 - scrollY,800,400);
ctx.drawImage(fert8, 0, 2800 - scrollY,800,400);
ctx.drawImage(fert9, 0, 3200 - scrollY,800,400);
ctx.drawImage(fert10, 0,3600 - scrollY,800,400);

//Prototypes
for(var i = 0; i < buttonArray.length ; i++) {
        buttonArray[i].draw();
}


//UI
ctx.drawImage(scrollbar, 0, 0,800,400);
ctx.drawImage(scrollbarGREEN, 10, curplaceY,39,40);

if (curplaceY < placeY){curplaceY = curplaceY + 10;}
if (curplaceY > placeY){curplaceY = curplaceY - 10;}

realScrollY = (placeY * maxScrollY)/320

if (realScrollY >= 3200 && realScrollY < 3600){realScrollY = 3200;}
if (realScrollY >= 2800 && realScrollY < 3200){realScrollY = 2800;}
if (realScrollY >= 2400 && realScrollY < 2800){realScrollY = 2400;}
if (realScrollY >= 2000 && realScrollY < 2400){realScrollY = 2000;}
if (realScrollY >= 1600 && realScrollY < 2000){realScrollY = 1600;}
if (realScrollY >= 1200 && realScrollY < 1600){realScrollY = 1200;}
if (realScrollY >= 800 && realScrollY < 1200){realScrollY = 800;}
if (realScrollY >= 400 && realScrollY < 800){realScrollY = 400;}
if (realScrollY < 400){realScrollY = 0;}

if (scrollY < realScrollY){scrollY = scrollY + (realScrollY - scrollY)/4;}
if (scrollY > realScrollY){scrollY = scrollY - (scrollY - realScrollY)/4;}

if (scrollY < realScrollY){scrollY = scrollY + 1;}
if (scrollY > realScrollY){scrollY = scrollY - 1;}

ctx.fillStyle = "black";
ctx.fillRect(295,0, 150, 30);

ctx.font = "30px Arial";
ctx.fillStyle = "white";
ctx.fillText("Points: " + points,300,25);



if (debugInfo == 1){
ctx.font = "20px Arial";
ctx.fillStyle = "black";
ctx.fillText("X: " + canvasX,3,20);
ctx.fillText("Y: " + canvasY,3,40);
ctx.fillText("Points: " + points,3,60);
ctx.fillText("Scene: " + scene,3,80);
ctx.fillText("ScrollY: " + realScrollY,3,100);
}

document.getElementById("demo").value = choicesArray;

choicesArray = [];
for(var i = 0; i < buttonArray.length ; i++) {
        if (buttonArray[i].breeded == true){choicesArray.push(buttonArray[i].name);}
}

}//End of FUNCTION


</script>

<input class = "defaultText" type="text" size="80" id="demo" value="">

<img id="fert"  style="display:none; visibility:hidden;" src="fert.png" alt="">
<img id="fert2"  style="display:none; visibility:hidden;" src="fert2.png" alt="">
<img id="fert3"  style="display:none; visibility:hidden;" src="fert3.png" alt="">
<img id="fert4"  style="display:none; visibility:hidden;" src="fert4.png" alt="">
<img id="fert5"  style="display:none; visibility:hidden;" src="fert5.png" alt="">
<img id="fert6"  style="display:none; visibility:hidden;" src="fert6.png" alt="">
<img id="fert7"  style="display:none; visibility:hidden;" src="fert7.png" alt="">
<img id="fert8"  style="display:none; visibility:hidden;" src="fert8.png" alt="">
<img id="fert9"  style="display:none; visibility:hidden;" src="fert9.png" alt="">
<img id="fert10"  style="display:none; visibility:hidden;" src="fert10.png" alt="">


<img id="win"  style="display:none; visibility:hidden;" src="win.png" alt="">
<img id="lose"  style="display:none; visibility:hidden;" src="lose.png" alt="">

<img id="scrollbar"  style="display:none; visibility:hidden;" src="scrollbar.png" alt="">
<img id="scrollbarGREEN"  style="display:none; visibility:hidden;" src="scrollbarGREEN.png" alt="">

</html> 
